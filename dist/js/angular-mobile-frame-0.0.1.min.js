/*!
 * Angular Mobile Frame - v0.0.1
 *
 * 2013-07-07
 *
 * Handy frame-elements for a typical mobile website with off-canvas-navigation.
 *
 * https://github.com/herschel666/angular-mobile-frame
 *
 * Copyright (c) 2013 Emanuel Kluge;
 * Licensed WTFPL
**/
angular.module("ek.mobileFrame",["ng"]).provider("$mobileFrame",function(){var a,b,c;this.$get=function(){return{getHeaderHeight:function(){return a},getFooterHeight:function(){return b},getNavWidth:function(){return c}}},this.setHeaderHeight=function(b){return a=b,this},this.setFooterHeight=function(a){return b=a,this},this.setNavWidth=function(a){return c=a,this}}).controller("MobileFrameCtrl",function(){var a=this;this.toggleNav=function(){a.callback.call()},this.onNavToggle=function(b){a.callback=b}}).directive("mobileFrame",["$mobileFrame","$location",function(a,b){function c(){var a=f?0:e;(!arguments.length||f)&&(d.css({"-webkit-transform":"translate3d("+a+"px, 0, 0)","-moz-transform":"translate3d("+a+"px, 0, 0)",transform:"translate3d("+a+"px, 0, 0)"}),f=!f)}var d,e=a.getNavWidth(),f=!1;return{restrict:"E",transclude:!0,scope:!0,replace:!0,controller:"MobileFrameCtrl",template:'<section class="mobile-frame" ng-transclude></section>',link:function(a,f,g,h){d=f.css({paddingLeft:e+"px",left:-e+"px"}),h.onNavToggle(c),a.location=b,a.$watch("location.path()",c)}}}]).directive("mobileHeader",["$mobileFrame",function(a){return{restrict:"E",require:"^mobileFrame",transclude:!0,replace:!0,template:['<header class="mobile-header" role="banner">','	<button type="button" class="mobile-nav-toggle" id="mobile-nav-toggle">Toggle</button>','	<div class="mobile-header-inner" ng-transclude></div>',"</header>"].join(""),link:function(b,c,d,e){c.css("height",a.getHeaderHeight()+"px"),angular.element(document.getElementById("mobile-nav-toggle")).bind("click",e.toggleNav)}}}]).directive("mobileNav",["$mobileFrame",function(a){return{restrict:"E",transclude:!0,replace:!0,template:'<div class="mobile-nav" ng-transclude></div>',link:function(b,c){var d=a.getNavWidth();c.css("width",d+"px")}}}]).directive("mobileContent",["$mobileFrame","$window",function(a,b){function c(){return b.innerHeight-(a.getHeaderHeight()+a.getFooterHeight())}return{restrict:"E",transclude:!0,replace:!0,template:'<div class="mobile-content" role="main" ng-transclude></div>',link:function(a,d){d.css("height",c()+"px"),angular.element(b).bind("resize",function(){d.css("height",c()+"px")})}}}]).directive("mobileFooter",["$mobileFrame",function(a){return{restrict:"E",transclude:!0,replace:!0,template:'<footer class="mobile-footer" ng-transclude></footer>',link:function(b,c){c.css("height",a.getFooterHeight()+"px")}}}]);